{
  "updatedAt": "2026-02-26T23:23:35.334Z",
  "createdAt": "2026-02-26T23:23:35.334Z",
  "id": "akGxQTbHeS35MYvZ",
  "name": "üõí [Tool] Consultar Cat√°logo ‚Äî Comercio",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "jsCode": "const items = $input.all();\nconst filtro = ($('Execute Workflow Trigger').first().json?.filtro || '').toLowerCase().trim();\n\nif (!items || items.length === 0) {\n  return [{ json: { resultado: 'No hay productos disponibles en este momento.' } }];\n}\n\nlet productos = items.map(item => item.json);\n\n// Filtrar si se especific√≥ un t√©rmino\nif (filtro) {\n  productos = productos.filter(p => {\n    const nombre = (p.Nombre || '').toLowerCase();\n    const cat = (p['Categor\\u00eda'] || p['Categoria'] || '').toLowerCase();\n    return nombre.includes(filtro) || cat.includes(filtro);\n  });\n}\n\nif (productos.length === 0) {\n  return [{ json: { resultado: `No encontr√© productos relacionados con \"${filtro}\".` } }];\n}\n\nconst lineas = productos.map(p => {\n  const disponible = (p.Disponibilidad === true || p.Disponibilidad === 'SI' || p.Disponibilidad === 'S\\u00ed') ? '\\u2705' : '\\u274c';\n  let texto = `\\u2022 *${p.Nombre || 'Sin nombre'}*`;\n  if (p['Categor\\u00eda'] || p['Categoria']) texto += ` ‚Äî ${p['Categor\\u00eda'] || p['Categoria']}`;\n  texto += `\\n  \\ud83d\\udcb0 $${p.Precio || 'Consultar'}`;\n  texto += ` | ${disponible} ${p.Disponibilidad ? 'Disponible' : 'Sin stock'}`;\n  if (p.Imagen) texto += `\\n  [IMG:${p.Imagen}]`;\n  return texto;\n});\n\nconst resultado = '\\ud83d\\udce6 *Productos disponibles:*\\n\\n' + lineas.join('\\n\\n');\nreturn [{ json: { resultado } }];"
      },
      "id": "formatear-catalogo",
      "name": "Formatear Cat√°logo",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        752,
        304
      ]
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "ZSDFGSDG"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        304,
        304
      ],
      "id": "645f63b3-9243-4cbe-a989-8396e2abd490",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "resource": "base",
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        544,
        304
      ],
      "id": "b5b0e40d-3b4f-41cd-bbc8-29195056e839",
      "name": "Get many bases",
      "credentials": {
        "airtableTokenApi": {
          "id": "Ow3FT0jedo30cI3m",
          "name": "Airtable Whatsapp Comercios"
        }
      }
    }
  ],
  "connections": {
    "Get many bases": {
      "main": [
        [
          {
            "node": "Formatear Cat√°logo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Get many bases",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": false
  },
  "staticData": null,
  "meta": null,
  "pinData": null,
  "versionId": "dda87e54-cbd1-434b-9f73-c4af83b79d4e",
  "activeVersionId": null,
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2026-02-26T23:23:35.335Z",
      "createdAt": "2026-02-26T23:23:35.335Z",
      "role": "workflow:owner",
      "workflowId": "akGxQTbHeS35MYvZ",
      "projectId": "zU8ZqM5Dx6MPXDiw"
    }
  ],
  "activeVersion": null,
  "tags": [
    {
      "id": "sin-tag",
      "name": "sin-tag"
    }
  ]
}